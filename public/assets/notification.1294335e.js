import{bt as s,A as n,c as l,cx as c}from"./index.ec7eb99e.js";const p=s("notification",{state:()=>({rows:[],permissions:{}}),getters:{module:i=>({name:"Notifications",label:i.$t("label.notifications"),singular:i.$t("singular.notification"),plural:i.$t("plural.notifications")}),columns:i=>[{name:"label",align:"left",label:i.$t("label.label"),field:"label",sortable:!0},{name:"type",align:"left",label:i.$t("label.type"),field:"type",sortable:!0},{name:"default",align:"center",label:i.$t("label.default"),field:"is_default"},{name:"actions",align:"right"}],actions:i=>[{label:i.$t("label.edit"),action:"route",route:"Notification",params:e=>({id:e.id}),query:e=>({action:"edit"}),icon:"fas fa-edit",deleted:!1},{label:i.$t("label.duplicate"),action:i.duplicate,icon:"fas fa-copy",deleted:!1},{label:i.$t("label.markAsDefault"),condition:e=>!e.is_default,action:i.markAsDefault,icon:"fas fa-star",deleted:!1},{label:i.$t("label.delete"),action:"delete",icon:"fas fa-trash-alt",deleted:!1},{label:i.$t("label.restore"),action:"restore",icon:"fas fa-trash-undo",deleted:!0}],toolbar:i=>[{icon:"fal fa-plus-circle",label:i.$t("label.addTemplate"),action:"route",params:{id:"add"},route:"Notification",color:"primary",deleted:"all"}],types:i=>[{label:i.$t("invoiceSent"),value:"user:invoice-sent"},{label:i.$t("signup"),value:"user:signup"},{label:i.$t("subscriptionCancel"),value:"user:subscription-cancel"},{label:i.$t("subscriptionCanceled"),value:"user:subscription-canceled"},{label:i.$t("subscriptionDowngrade"),value:"user:subscription-downgrade"},{label:i.$t("subscriptionExpired"),value:"user:subscription-expired"},{label:i.$t("subscriptionRenewed"),value:"user:subscription-renewed"},{label:i.$t("subscriptionUpgraded"),value:"user:subscription-upgraded"},{label:i.$t("enquiryNotification"),value:"user:enquiry-notification"},{label:i.$t("enquiryConfirmation"),value:"user:enquiry-confirmation"},{label:i.$t("enquiryUpdateNotification"),value:"user:enquiry-reply-notification"},{label:i.$t("AdminEnquiryNotification"),value:"admin:enquiry-reply-notification"},{label:i.$t("AdminSubscriptionExpired"),value:"admin:subscription-expired"},{label:i.$t("AdminSubscriptionCancel"),value:"admin:subscription-cancel"},{label:i.$t("AdminHoldRelease"),value:"admin:hold-release"},{label:i.$t("AdminTaskNotification"),value:"admin:task-user-notification"},{label:i.$t("AdminEnquiryNotification"),value:"admin:enquiry-notification"},{label:i.$t("AdminNewWelcome"),value:"admin:new-account"},{label:i.$t("AdminContactNotification"),value:"admin:contact-us-notification"},{label:i.$t("PushWhatsappSubscriptionCancel"),value:"push:subscription-cancel"},{label:i.$t("PushWhatsappSubscriptionCanceled"),value:"push:subscription-canceled"},{label:i.$t("PushWhatsappSubscriptionDowngrade"),value:"push:subscription-downgrade"},{label:i.$t("PushWhatsappSubscriptionExpired"),value:"push:subscription-expired"},{label:i.$t("PushWhatsappSubscriptionRenewed"),value:"push:subscription-renewed"},{label:i.$t("PushWhatsappSubscriptionUpgraded"),value:"push:subscription-upgraded"},{label:i.$t("PushWhatsappEnquiryNotification"),value:"push:enquiry-notification"},{label:i.$t("PushWhatsappEnquiryNotification"),value:"push:enquiry-reply-notification"},{label:i.$t("PushWhatsappEnquiryConfirmation"),value:"push:enquiry-confirmation"},{label:i.$t("AdminMemberUpdate"),value:"admin:member-status-update"},{label:i.$t("AdminGuestRequested"),value:"admin:guest-pass-request"},{label:i.$t("AdminMemberUpdate"),value:"admin:member-avatar-update"},{label:i.$t("bookingConfirmedNotification"),value:"user:booking-confirmed"},{label:i.$t("bookingStandbyNotification"),value:"user:booking-standby-confirmed"},{label:i.$t("bookingStandbyNotification"),value:"user:booking-standby"},{label:i.$t("bookingCanceledNotification"),value:"user:booking-canceled"},{label:i.$t("PushWhatsappBookingNotification"),value:"push:booking-confirmed"},{label:i.$t("PushWhatsappBookingNotification"),value:"push:booking-standby-confirmed"},{label:i.$t("PushWhatsappBookingNotification"),value:"push:booking-standby"},{label:i.$t("PushWhatsappBookingNotification"),value:"push:booking-canceled"},{label:i.$t("PushWhatsappUpcomingNotification"),value:"push:upcoming-class"},{label:i.$t("importCompleted"),value:"admin:import-completed"}]},actions:{get(i){return new Promise((e,t)=>{n.get("settings/notifications",i).then(a=>{this.rows=a.data,e(a)}).catch(a=>{t(a)})})},store(i){return new Promise((e,t)=>{n.post("settings/notifications/store",i).then(a=>{e(a)}).catch(a=>{t(a)})})},show(i){return new Promise((e,t)=>{n.get(`settings/notifications/${i}`).then(a=>{e(a)}).catch(a=>{t(a)})})},update(i){return new Promise((e,t)=>{n.put(`settings/notifications/${i.id}`,i).then(a=>{e(a)}).catch(a=>{t(a)})})},delete(i){return new Promise((e,t)=>{n.delete(`settings/notifications/${i}/destroy`).then(a=>{e(a)}).catch(a=>{t(a)})})},markAsDefault(i){return new Promise((e,t)=>{n.post(`settings/notifications/${i.id}/mark-as-default`).then(a=>{const{message:u,data:o}=a;i.is_default=o.is_default,l.success(u),e(a)}).catch(a=>{l.error(a),t(a)})})},duplicate(i){return new Promise((e,t)=>{n.post(`settings/notifications/${i.id}/duplicate`).then(a=>{const{message:u,data:o}=a;l.success(u),c.push({name:"Notification",params:{id:o.id},query:{action:"edit"}}),e(a)}).catch(a=>{l.error(a),t(a)})})}}});export{p as u};
