import{Q as m}from"./QPage.b13c45b6.js";import{bt as b,c as f,A as _,_ as y,T as w,U as $,d as l,o as k,e as P,w as r,h as i}from"./index.ec7eb99e.js";const q=e=>[{label:e.$t("label.all"),value:null},{label:e.$t("checkIn"),value:"check-in"},{label:e.$t("accessDenied"),value:"access-denied"}],c=b("checkin",{getters:{columns:e=>[{name:"created_at",align:"left",label:e.$t("label.date"),field:"created_at",format:f.formatDateAsHuman,style:"width: 40px",sortable:!0},{name:"type",align:"left",label:e.$t("label.type"),field:"type",style:"width: 40px",sortable:!0},{name:"message",align:"left",label:e.$t("label.message"),field:"message",sortable:!1}],toolbar:e=>[{title:e.$t("label.status"),action:"request",component:"base-select",dense:!0,outlined:!0,key:"status",placeholder:e.$t("placeholder.select"),optionsDense:!0,style:"width: 150px",mapOptions:!0,emitValue:!0,options:q(e),prefix:e.$t("prefix.status"),deleted:"all"}],filters:e=>[]},actions:{get(e){return new Promise((n,o)=>{_.get("member/checkin-history",e).then(t=>{n(t)}).catch(t=>{o(t)})})}}}),v={data(){return{loading:!1,pagination:{sortBy:"created_at",descending:!0,page:1,filter:"",status:null,deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1},rows:[]}},methods:{...w(c,["get"]),onRequest(e){console.func("pages/pages/users/CheckinHistoryPage:methods.onRequest()",arguments);const{page:n,rowsPerPage:o,sortBy:t,descending:a}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,direction:a?"desc":"asc"}).then(({data:s})=>{this.rows=s,this.pagination.page=n,this.pagination.rowsPerPage=o,this.pagination.sortBy=t,this.pagination.descending=a,this.pagination.loaded=!0,this.loading=!1}).catch(s=>{this.$core.error(s,{title:this.$t("dialog.title.error")})})}},computed:{...$(c,["columns","toolbar"])}};function x(e,n,o,t,a,s){const d=l("base-page-header"),u=l("base-status"),p=l("base-table"),g=l("base-section");return k(),P(m,{padding:""},{default:r(()=>[i(d,{"no-tabs":"",title:e.$t("checkInHistory"),hint:e.$t("hint.hereYouActivity")},null,8,["title","hint"]),i(g,{class:"q-mt-md",flat:"",bordered:"","no-row":""},{default:r(()=>[i(p,{columns:e.columns,rows:a.rows,toolbar:e.toolbar,loading:a.loading,pagination:a.pagination,onRequest:s.onRequest},{"body-cell-type":r(h=>[i(u,{type:h.value},null,8,["type"])]),_:1},8,["columns","rows","toolbar","loading","pagination","onRequest"])]),_:1})]),_:1})}var C=y(v,[["render",x]]);export{C as default};
