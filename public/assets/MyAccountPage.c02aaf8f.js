import{Q as _}from"./QForm.74e427bf.js";import{Q as v}from"./QPage.b13c45b6.js";import{_ as V,cr as $,T as w,u as g,U as S,d as n,o as y,e as U,w as t,g as o,h as s,j as d,t as u}from"./index.ec7eb99e.js";import{A as P}from"./AddressFields.afbf970a.js";import"./StateSelect.d3ce42fc.js";import"./index.becf6c0c.js";import"./CitySelect.367b922a.js";const A={components:{FileSelector:$,AddressFields:P},data(){return{visible:!1,errors:{}}},methods:{...w(g,["update","currentUser"]),onSaveProfile(){console.func("pages/SignUpPage:methods.onSaveProfile()",arguments),this.visible=!0,this.errors={},this.update({...this.user,guard:this.$route.meta.guard}).then(()=>{this.visible=!1}).catch(({errors:e,message:r})=>{this.visible=!1,e?this.errors=e:this.$core.error(r)})}},computed:{...S(g,["user"])}},M={class:"row q-col-gutter-lg"},N={class:"col-xs-12 col-sm-3"},E={class:"col-xs-12"},F={class:"col-xs-12 col-sm-9"},Q={class:"row q-col-gutter-md"},k={class:"col-sm-3 col-xs-12"},q={class:"col-sm-3 col-xs-12"},B={class:"col-sm-3 col-xs-12"},C={class:"col-sm-3 col-xs-12"},T={class:"col-sm-3 col-xs-12"},j={class:"col-xs-12"},z={class:"col-sm-12 col-xs-12 text-right self-end"};function D(e,r,I,G,a,p){const b=n("file-selector"),f=n("base-section"),i=n("base-label"),m=n("base-input"),c=n("base-btn"),h=n("address-fields");return y(),U(v,{padding:""},{default:t(()=>[o("div",M,[o("div",N,[s(f,{flat:"",bordered:"",title:e.$t("avatar")},{default:t(()=>[o("div",E,[s(b,{ref:"avatar",accept:"image/*","dialog-label":e.$t("uploadAvatar"),hint:e.$t("hint.images",{type:"avatar"}),modelValue:e.user.avatar,"onUpdate:modelValue":[r[0]||(r[0]=l=>e.user.avatar=l),p.onSaveProfile]},null,8,["dialog-label","hint","modelValue","onUpdate:modelValue"])])]),_:1},8,["title"])]),o("div",F,[s(f,{flat:"",bordered:"","no-row":"",title:e.$t("profileInformation")},{default:t(()=>[s(_,{onSubmit:p.onSaveProfile},{default:t(()=>[o("div",Q,[o("div",k,[s(i,null,{default:t(()=>[d(u(e.$t("firstName")),1)]),_:1}),s(m,{"error-message":e.$core.errorMessage("first_name",a.errors),error:e.$core.hasError("first_name",a.errors),modelValue:e.user.first_name,"onUpdate:modelValue":r[1]||(r[1]=l=>e.user.first_name=l),name:"first_name"},null,8,["error-message","error","modelValue"])]),o("div",q,[s(i,null,{default:t(()=>[d(u(e.$t("surname")),1)]),_:1}),s(m,{"error-message":e.$core.errorMessage("last_name",a.errors),error:e.$core.hasError("last_name",a.errors),modelValue:e.user.last_name,"onUpdate:modelValue":r[2]||(r[2]=l=>e.user.last_name=l),name:"last_name"},null,8,["error-message","error","modelValue"])]),o("div",B,[s(i,null,{default:t(()=>[d(u(e.$t("email")),1)]),_:1}),s(m,{"error-message":e.$core.errorMessage("email",a.errors),error:e.$core.hasError("email",a.errors),modelValue:e.user.email,"onUpdate:modelValue":r[3]||(r[3]=l=>e.user.email=l),name:"email"},null,8,["error-message","error","modelValue"])]),o("div",C,[s(i,null,{default:t(()=>[d(u(e.$t("phoneNumber")),1)]),_:1}),s(m,{"error-message":e.$core.errorMessage("phone_number",a.errors),error:e.$core.hasError("phone_number",a.errors),modelValue:e.user.phone_number,"onUpdate:modelValue":r[4]||(r[4]=l=>e.user.phone_number=l),name:"phone_number"},null,8,["error-message","error","modelValue"])]),o("div",T,[s(i,null,{default:t(()=>[d(u(e.$t("password")),1)]),_:1}),s(m,{type:"password",readonly:"","bottom-slots":"",modelValue:"**********",name:"password"},{hint:t(()=>[s(c,{size:"11px",color:"grey",to:{name:"Forget Password",query:{email:e.user.email}},link:"",type:"a",label:e.$t("forgottenPassword")},null,8,["to","label"])]),_:1})]),o("div",j,[s(h,{prefix:"address.",errors:a.errors,modelValue:e.user.address,"onUpdate:modelValue":r[5]||(r[5]=l=>e.user.address=l)},null,8,["errors","modelValue"])]),o("div",z,[s(c,{loading:a.visible,style:{width:"100px"},label:e.$t("save"),type:"submit"},null,8,["loading","label"])])])]),_:1},8,["onSubmit"])]),_:1},8,["title"])])])]),_:1})}var X=V(A,[["render",D]]);export{X as default};
