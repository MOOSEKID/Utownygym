import{Q as w}from"./QPage.b13c45b6.js";import{_ as P,m,T as f,u as y,d as a,o as r,e as d,w as n,g as l,h as s,j as b,t as _,f as g,p as C,F as B}from"./index.ec7eb99e.js";import{P as M}from"./PermissionsModule.b2eb7670.js";import{S as q}from"./SkeletonSinglePage.dba71dd3.js";import{u as N}from"./group.1903fd21.js";import{P as R}from"./mixins.af528ab3.js";import"./QSkeleton.73bc54f6.js";import"./StateSelect.d3ce42fc.js";import"./index.becf6c0c.js";import"./CitySelect.367b922a.js";import"./BaseSectionSkeleton.971da8dd.js";import"./page.e7247b54.js";import"./QExpansionItem.38c12bfd.js";import"./QSlideTransition.d1b840b3.js";import"./QMenu.76199ca9.js";import"./selection.571043d0.js";const h={permissions:[]},U={mixins:[R],components:{PermissionsModule:M,SkeletonSinglePage:q},data(){return{defaultData:m.exports.cloneDeep(h),formData:m.exports.cloneDeep(h),modules:[]}},methods:{...f(N,["store","show","update"]),...f(y,["getModules"])},async mounted(){await this.getModules().then(e=>{this.modules=e}),this.creating?this.loaded=!0:this.show(this.id).then(e=>{this.formData=e,this.defaultData=m.exports.cloneDeep(e),this.loaded=!0}).catch(e=>{this.$emit("error",e)})}},x={class:"q-gutter-md"},A={class:"col-xs-12 col-sm-12"},F={class:"col-xs-12"},G={class:"row q-col-gutter-md"};function Q(e,t,T,$,o,j){const p=a("base-label"),u=a("base-input"),c=a("base-section"),D=a("permissions-module"),V=a("base-form"),k=a("skeleton-single-page");return r(),d(w,{padding:""},{default:n(()=>[e.loaded?(r(),d(V,{key:0,onSubmit:e.onSubmit,onCancel:e.onCancel,onReset:e.onReset,resetable:e.resetable,disable:e.disable,submited:e.submited},{default:n(()=>[l("div",x,[s(c,{flat:"",bordered:"",title:e.$t("generalInformation")},{default:n(()=>[l("div",A,[s(p,{required:""},{default:n(()=>[b(_(e.$t("name")),1)]),_:1}),s(u,{name:"name",modelValue:o.formData.name,"onUpdate:modelValue":t[0]||(t[0]=i=>o.formData.name=i)},null,8,["modelValue"])]),l("div",F,[s(p,null,{default:n(()=>[b(_(e.$t("description")),1)]),_:1}),s(u,{name:"description",modelValue:o.formData.description,"onUpdate:modelValue":t[1]||(t[1]=i=>o.formData.description=i),type:"textarea"},null,8,["modelValue"])])]),_:1},8,["title"]),s(c,{flat:"",bordered:"","no-row":"",title:e.$t("permissions"),description:e.$t("staff.permissionDesc")},{default:n(()=>[l("div",G,[(r(!0),g(B,null,C(o.modules,(i,S)=>(r(),g("div",{class:"col-xs-12 col-sm-3",key:i.id},[s(D,{edit:"",modelValue:o.formData.permissions,"onUpdate:modelValue":t[2]||(t[2]=v=>o.formData.permissions=v),module:o.modules[S]},null,8,["modelValue","module"])]))),128))])]),_:1},8,["title","description"])])]),_:1},8,["onSubmit","onCancel","onReset","resetable","disable","submited"])):(r(),d(k,{key:1}))]),_:1})}var ae=P(U,[["render",Q]]);export{ae as default};
