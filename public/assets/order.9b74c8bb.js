import{bt as n,c as s,A as a}from"./index.ec7eb99e.js";const o=e=>[{label:e.$t("label.open"),value:"OPEN"},{label:e.$t("label.paid"),value:"PAID"},{label:e.$t("label.completed"),value:"COMPLETED"},{label:e.$t("label.cancelled"),value:"CANCELLED"}],d=e=>[{label:e.$t("label.dateCreatedNewestFirst"),value:"CREATED_AT_DESC"},{label:e.$t("label.dateCreatedOldestFirst"),value:"CREATED_AT_ASC"},{label:e.$t("label.customerNameAZ"),value:"CUSTOMER_NAME_ASC"},{label:e.$t("label.customerNameZA"),value:"CUSTOMER_NAME_DESC"}],c=n("order",{state:()=>({rows:[],permissions:{new:"orders:new",edit:"orders:edit",delete:"orders:delete"}}),getters:{module:e=>({name:"Orders",label:e.$t("label.orders"),singular:e.$t("singular.order"),plural:e.$t("plural.orders")}),columns:e=>[{name:"id",align:"left",label:e.$t("label.order"),field:"formated_id",sortable:!1},{name:"created_at",align:"left",label:e.$t("label.date"),field:"created_at",format:s.formatDateAsHuman,sortable:!1},{name:"customer_id",align:"left",label:e.$t("label.customer"),field:"customer",format:r=>r==null?void 0:r.name,sortable:!1},{name:"grand_total",align:"left",label:e.$t("label.total"),field:"grand_total",format:r=>s.money(r),sortable:!1},{name:"total_line_items",align:"left",label:e.$t("label.products"),field:"total_line_items",sortable:!1},{name:"status",align:"left",label:e.$t("label.status"),field:"status",format:r=>r==null?void 0:r.map(l=>l.label),sortable:!1},{name:"actions",align:"right",sortable:!1}],actions:e=>[{label:e.$t("label.edit"),permission:"orders:edit",action:"route",route:"Order",params:r=>({id:r.id}),query:r=>({action:"edit"}),icon:"fas fa-edit",deleted:!1},{label:e.$t("label.delete"),permission:"orders:delete",action:"delete",icon:"fas fa-trash-alt",deleted:!1},{label:e.$t("label.restore"),permission:"orders:delete",action:"restore",icon:"fas fa-trash-undo",deleted:!0}],toolbar:e=>[{label:e.$t("label.trashed"),action:"request",component:"base-toggle",dense:!0,key:"deleted",checkedIcon:"delete",permission:"orders:delete",deleted:"all"},{title:e.$t("label.status"),action:"request",component:"base-select",dense:!0,outlined:!0,key:"status",placeholder:"Status",optionsDense:!0,clearable:!0,style:"width: 150px",mapOptions:!0,emitValue:!0,options:o(e),deleted:"all"},{title:e.$t("label.sortBy"),action:"request",component:"base-select",dense:!0,outlined:!0,key:"sortBy",optionsDense:!0,hideDropdownIcon:!0,mapOptions:!0,emitValue:!0,icon:"fas fa-sort",displayValue:"Sort",style:"width: 80px",options:d(e),deleted:"all"},{icon:"fad fa-plus-circle",label:e.$t("label.addOrder"),permission:"orders:new",action:"route",params:{id:"add"},route:"Order",color:"primary",deleted:"all"}],filters:e=>[],statusOptions:o,getStatus:e=>r=>{const l=e.statusOptions.find(t=>t.value===r);return(l==null?void 0:l.label)||r}},actions:{get(e){return new Promise((r,l)=>{a.get("orders",e).then(t=>{this.setRows(t.data),r(t)}).catch(t=>{l(t)})})},store(e){return new Promise((r,l)=>{a.post("orders/store",e).then(t=>{r(t)}).catch(t=>{l(t)})})},show(e){return new Promise((r,l)=>{a.get(`orders/${e}`).then(t=>{r(t)}).catch(t=>{l(t)})})},update(e){return new Promise((r,l)=>{a.put(`orders/${e.id}`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},delete(e){return new Promise((r,l)=>{a.delete(`orders/${e}/destroy`).then(t=>{r(t)}).catch(t=>{l(t)})})},deleteSelected(e){return new Promise((r,l)=>{a.delete("orders/destroy",{items:e}).then(t=>{r(t)}).catch(t=>{l(t)})})},restore(e){return new Promise((r,l)=>{a.post(`orders/${e}/restore`).then(t=>{r(t)}).catch(t=>{l(t)})})},restoreSelected(e){return new Promise((r,l)=>{a.post("orders/restore",{items:e}).then(t=>{r(t)}).catch(t=>{l(t)})})},calculator(e){return new Promise((r,l)=>{a.post("orders/calculator",e).then(t=>{r(t)}).catch(t=>{l(t)})})},comment(e){return new Promise((r,l)=>{a.post(`orders/${e.moduleId}/logs`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},markAsPaid(e){return new Promise((r,l)=>{a.post(`orders/${e.moduleId}/mark-as-paid`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},pay(e){return new Promise((r,l)=>{a.post(`orders/${e.order}/${e.payment_method}/pay`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},duplicate(e){return new Promise((r,l)=>{a.post(`orders/${e.moduleId}/duplicate`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},cancel(e){return new Promise((r,l)=>{a.post(`orders/${e.moduleId}/cancel`,e).then(t=>{r(t)}).catch(t=>{l(t)})})},receipt(e){return new Promise((r,l)=>{a.download(`orders/${e}/receipt`).then(async t=>{await s.viewPdf(t,`receipt_${e}`),r(t)}).catch(t=>{l(t)})})},pos(e){return new Promise((r,l)=>{a.download(`orders/${e}/pos`).then(async t=>{await s.viewPdf(t,`receipt_${e}`),r(t)}).catch(t=>{l(t)})})}}});export{c as u};
