import{bt as $,A as b,c as y,_ as k,d as v,o as i,f as p,p as w,e as g,w as r,h as t,N as l,W as u,j as d,t as m,i as P,R as S,F as x,g as I,cN as q,T as A,U as B,u as N}from"./index.ec7eb99e.js";import{Q as C}from"./QBadge.f11b4156.js";import{Q as _}from"./QSkeleton.73bc54f6.js";const V=$("payment",{actions:{token(e){return new Promise((a,s)=>{b.get(`/payment/${e==null?void 0:e.provider}/token`,e==null?void 0:e.query).then(n=>{a(n)}).catch(n=>{s(n)})})},process(e){y.showLoading("Payment capturing <b>process</b> is in progress.");const{query:a,provider:s}=e,n=()=>{window.location=a.redirect||"/"};return new Promise((f,h)=>{b.post(`/payment/${s}/process`,a).then(o=>{f(o),n()}).catch(o=>{h(o),y.error(o),n()})})}}}),D={props:{currency:String,lineItems:{type:Array,default:()=>[]}}};function L(e,a,s,n,f,h){const o=v("base-thumbnail");return i(!0),p(x,null,w(s.lineItems,(c,Q)=>(i(),g(S,{key:Q,class:"q-px-none"},{default:r(()=>[t(l,{avatar:""},{default:r(()=>[t(o,{size:40,media:c.thumbnail},{default:r(()=>[t(C,{rounded:"",floating:"",color:"orange-3","text-color":"black",label:c.quantity},null,8,["label"])]),_:2},1032,["media"])]),_:2},1024),t(l,null,{default:r(()=>[t(u,{lines:"1"},{default:r(()=>[d(m(c.title),1)]),_:2},1024),c.variant_title?(i(),g(u,{key:0,caption:""},{default:r(()=>[d(m(c.variant_title),1)]),_:2},1024)):P("",!0)]),_:2},1024),t(l,{side:""},{default:r(()=>[t(u,null,{default:r(()=>[d(m(e.$core.money(c.total,{currency:s.currency})),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)}var F=k(D,[["render",L]]);const T={},U={class:"payment-preloder"};function j(e,a){const s=v("base-section");return i(),p("div",U,[t(s,{"no-row":""},{default:r(()=>[(i(),p(x,null,w(3,n=>I("div",{class:"q-mb-sm",key:n},[t(_,{width:"50%",type:"text"}),t(_,{type:"QInput"})])),64)),t(q,{class:"q-mt-sm",align:"center"},{default:r(()=>[t(_,{width:"160px",type:"QBtn"})]),_:1})]),_:1})])}var z=k(T,[["render",j]]);const R={components:{OrderItems:F,PaymentSkeleton:z},data(){return{loading:!0,loaded:!1,title:"Payment",order:null,orderID:null,successUrl:null}},methods:{...A(V,["token","process"]),onBack(){this.$redirect(this.redirect)}},computed:{...B(N,["paymentProvider","config"]),redirect(){return this.$route.query.redirect||{name:"Dashboard"}},label(){var e;return this.$t("payAmount",{amount:(e=this.order)==null?void 0:e.amount})},billing_details(){var e;return(e=this.order)==null?void 0:e.billing_details}}};export{R as P};
