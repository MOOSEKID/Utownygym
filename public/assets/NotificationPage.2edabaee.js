import{_ as D,m as l,T as y,U as v,d as i,o as m,e as r,w as d,h as s,g as o,ah as x,O as V}from"./index.ec7eb99e.js";import{Q as S}from"./QSelect.ad394656.js";import{Q as C}from"./QPage.b13c45b6.js";import{S as k}from"./SkeletonSinglePage.dba71dd3.js";import{u as p}from"./notification.1294335e.js";import{P as N}from"./mixins.af528ab3.js";import{S as P}from"./SettingsPageHeader.b1719c9d.js";import"./QField.ad3f8f9a.js";import"./QChip.cb7fa0e0.js";import"./QMenu.76199ca9.js";import"./selection.571043d0.js";import"./rtl.276c3f1b.js";import"./QSkeleton.73bc54f6.js";import"./StateSelect.d3ce42fc.js";import"./index.becf6c0c.js";import"./CitySelect.367b922a.js";import"./BaseSectionSkeleton.971da8dd.js";import"./page.e7247b54.js";import"./QExpansionItem.38c12bfd.js";import"./QSlideTransition.d1b840b3.js";const f={content:"",is_default:!1},Q={components:{SkeletonSinglePage:k,SettingsPageHeader:P},mixins:[N],data(){return{defaultData:l.exports.cloneDeep(f),formData:l.exports.cloneDeep(f)}},methods:{...y(p,["show","store","update"]),onChangeType(e){console.func("pages/admins/settings/notifications/NotificationPage:methods.onChangeType()",arguments),e&&Object.assign(this.formData,{type:e==null?void 0:e.value,label:e==null?void 0:e.label})}},mounted(){this.id!=="add"?this.show(this.id).then(e=>{this.formData=e,this.defaultData=l.exports.cloneDeep(e),this.loaded=!0}).catch(e=>{this.$emit("error",e)}):this.loaded=!0},computed:{...v(p,["types"]),textarea(){return this.formData.type.startsWith("push:")}}},U={class:"q-gutter-md"},T={class:"col-xs-12 col-sm-8"},j={class:"col-xs-12 col-sm-4"},w={class:"col-xs-12 col-sm-12"},B={class:"col-xs-12 col-sm-12"};function R(e,t,q,O,a,u){const c=i("settings-page-header"),g=i("base-editor"),b=i("base-section"),h=i("base-form"),_=i("skeleton-single-page");return m(),r(C,{padding:""},{default:d(()=>[s(c,{class:"q-pb-md",title:"Notifications","back-route":"Notifications",hint:e.$t("hint.notifications")},null,8,["hint"]),e.loaded?(m(),r(h,{key:0,onSubmit:e.onSubmit,onCancel:e.onCancel,onReset:e.onReset,resetable:e.resetable},{default:d(()=>[o("div",U,[s(b,{title:"General information"},{default:d(()=>[o("div",T,[t[3]||(t[3]=o("div",{class:"text-label"},"Subject",-1)),s(x,{dense:"",outlined:"",modelValue:a.formData.subject,"onUpdate:modelValue":t[0]||(t[0]=n=>a.formData.subject=n),type:"text"},null,8,["modelValue"])]),o("div",j,[t[4]||(t[4]=o("div",{class:"text-label"},"Type",-1)),s(S,{dense:"",outlined:"","map-options":"",readonly:!e.creating,"model-value":a.formData.type,"onUpdate:modelValue":u.onChangeType,options:e.types},null,8,["readonly","model-value","onUpdate:modelValue","options"])]),o("div",w,[t[5]||(t[5]=o("div",{class:"text-label"},"Content",-1)),s(g,{textarea:u.textarea,modelValue:a.formData.content,"onUpdate:modelValue":t[1]||(t[1]=n=>a.formData.content=n),"min-height":"10rem"},null,8,["textarea","modelValue"])]),o("div",B,[s(V,{dense:"",modelValue:a.formData.is_default,"onUpdate:modelValue":t[2]||(t[2]=n=>a.formData.is_default=n),label:e.$t("label.defaultNotification")},null,8,["modelValue","label"])])]),_:1})])]),_:1},8,["onSubmit","onCancel","onReset","resetable"])):(m(),r(_,{key:1}))]),_:1})}var se=D(Q,[["render",R]]);export{se as default};
