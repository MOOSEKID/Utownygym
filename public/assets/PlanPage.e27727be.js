import{_ as q,m as g,T as F,U as O,d as i,o as r,e as f,w as n,h as l,g as a,j as u,t as d,f as _,i as B,O as M,p as N,F as V}from"./index.ec7eb99e.js";import{Q as E}from"./QPage.b13c45b6.js";import{S as I}from"./SkeletonSinglePage.dba71dd3.js";import{u as D}from"./plan.0dadec60.js";import{P as Q}from"./mixins.af528ab3.js";import{S as R}from"./SettingsPageHeader.b1719c9d.js";import"./QSkeleton.73bc54f6.js";import"./StateSelect.d3ce42fc.js";import"./index.becf6c0c.js";import"./CitySelect.367b922a.js";import"./BaseSectionSkeleton.971da8dd.js";import"./page.e7247b54.js";import"./QExpansionItem.38c12bfd.js";import"./QSlideTransition.d1b840b3.js";import"./QMenu.76199ca9.js";import"./selection.571043d0.js";const y={default_interval:"month",interval:"month",interval_count:1,trial_days:0,price:0,is_active:!0,description:`Max <strong>1/mo</strong> Guest pass
Max <strong>5/mo</strong> Classes
Full Access to the Facilities
Classes and Online Portal`,features:{classes:5,guest:1}},j={mixins:[Q],components:{SkeletonSinglePage:I,SettingsPageHeader:R},data(){return{defaultData:g.exports.cloneDeep(y),formData:g.exports.cloneDeep(y),features:[]}},methods:{...F(D,["store","show","update","getFeatures"]),onChangeInterval(e){let o=e;e==="custom"&&(o="day"),Object.assign(this.formData,{interval:o})}},async mounted(){await this.getFeatures().then(e=>{this.features=e}),this.creating?(this.features.forEach(({type:e,slug:o})=>{let c=0;e==="boolean"&&(c=!1),this.formData.features[o]=c,this.defaultData.features[o]=c}),this.loaded=!0):this.show(this.id).then(e=>{this.formData=e,this.defaultData=g.exports.cloneDeep(e),this.loaded=!0}).catch(e=>{this.$core.error(e)})},computed:{...O(D,["intervalOptions"])}},A={class:"q-gutter-md"},T={class:"col-xs-12 col-sm-7"},z={class:"col-xs-12 col-sm-5"},G={class:"col-xs-12 col-sm-12"},H={class:"row q-col-gutter-md"},L={class:"col-xs-12 col-sm-4"},J={class:"col-xs-12 col-sm-8"},K={class:"row q-col-gutter-sm"},W={class:"col-xs-12 col-sm-6"},X={key:0,class:"col-xs-12 col-sm-6"},Y={class:"row q-col-gutter-sm"},Z={class:"col-sm-6 col-xs-6"},$={class:"col-sm-6 col-xs-6"},ee={class:"col-xs-12 col-sm-12"},te={class:"col-xs-12"},oe={class:"text-weight-bold"};function se(e,o,c,le,s,k){const w=i("settings-page-header"),m=i("base-label"),p=i("base-input"),U=i("base-price-input"),v=i("base-select"),h=i("base-section"),x=i("base-checkbox"),P=i("base-form"),S=i("skeleton-single-page");return r(),f(E,{padding:""},{default:n(()=>[l(w,{"back-route":"Plans",class:"q-pb-md",title:"Plans",hint:"Effortlessly manage and customize your subscription plans in the Settings section for a tailored and seamless experience."}),e.loaded?(r(),f(P,{key:0,onSubmit:e.onSubmit,onCancel:e.onCancel,onReset:e.onReset,resetable:e.resetable,disable:e.disable,submited:e.submited},{default:n(()=>[a("div",A,[l(h,{flat:"",bordered:"",title:e.$t("generalInformation"),description:e.$t("plans.generalDesc")},{default:n(()=>[a("div",T,[l(m,{required:""},{default:n(()=>[u(d(e.$t("label.label")),1)]),_:1}),l(p,{modelValue:s.formData.label,"onUpdate:modelValue":o[0]||(o[0]=t=>s.formData.label=t),type:"text"},null,8,["modelValue"])]),a("div",z,[l(m,null,{default:n(()=>[u(d(e.$t("trialDays")),1)]),_:1}),l(p,{modelValue:s.formData.trial_days,"onUpdate:modelValue":o[1]||(o[1]=t=>s.formData.trial_days=t),type:"number"},null,8,["modelValue"])]),a("div",G,[a("div",H,[a("div",L,[l(m,{required:""},{default:n(()=>[u(d(e.$t("renewalFee")),1)]),_:1}),l(U,{dense:"",outlined:"",modelValue:s.formData.price,"onUpdate:modelValue":o[2]||(o[2]=t=>s.formData.price=t),type:"text"},null,8,["modelValue"])]),a("div",J,[l(m,{required:""},{default:n(()=>[u(d(e.$t("billingPeriod")),1)]),_:1}),a("div",K,[a("div",W,[l(v,{readonly:!e.creating,dense:"",outlined:"",modelValue:s.formData.default_interval,"onUpdate:modelValue":[o[3]||(o[3]=t=>s.formData.default_interval=t),k.onChangeInterval],options:e.intervalOptions,"emit-value":"","map-options":""},null,8,["readonly","modelValue","options","onUpdate:modelValue"])]),s.formData.default_interval==="custom"?(r(),_("div",X,[a("div",Y,[a("div",Z,[l(p,{readonly:!e.creating,dense:"",outlined:"",modelValue:s.formData.interval_count,"onUpdate:modelValue":o[4]||(o[4]=t=>s.formData.interval_count=t),prefix:e.$t("prefix.every"),type:"number",min:"1",step:"1",style:{width:"100%"}},null,8,["readonly","modelValue","prefix"])]),a("div",$,[l(v,{readonly:!e.creating,dense:"",outlined:"",modelValue:s.formData.interval,"onUpdate:modelValue":o[5]||(o[5]=t=>s.formData.interval=t),options:[{label:"days",value:"day"},{label:"weeks",value:"week"},{label:"months",value:"month"}],"emit-value":"","map-options":"",style:{width:"100%"}},null,8,["readonly","modelValue"])])])])):B("",!0)])])])]),a("div",ee,[l(m,null,{default:n(()=>[u(d(e.$t("description")),1)]),_:1}),l(p,{modelValue:s.formData.description,"onUpdate:modelValue":o[6]||(o[6]=t=>s.formData.description=t),type:"textarea"},null,8,["modelValue"])]),a("div",te,[l(M,{dense:"",modelValue:s.formData.is_active,"onUpdate:modelValue":o[7]||(o[7]=t=>s.formData.is_active=t),label:e.$t("active"),color:"green"},null,8,["modelValue","label"])])]),_:1},8,["title","description"]),l(h,{flat:"",bordered:"",title:e.$t("features"),description:e.$t("plans.featureDesc")},{default:n(()=>[(r(!0),_(V,null,N(s.features,(t,C)=>(r(),_("div",{key:C,class:"col-xs-12 col-sm-4"},[t.type==="integer"?(r(),_(V,{key:0},[l(m,{required:""},{default:n(()=>[u(d(t.label),1)]),_:2},1024),l(p,{modelValue:s.formData.features[t.slug],"onUpdate:modelValue":b=>s.formData.features[t.slug]=b,modelModifiers:{number:!0},type:"number",min:"-1",hint:t.description},null,8,["modelValue","onUpdate:modelValue","hint"])],64)):(r(),f(x,{key:1,dense:"",modelValue:s.formData.features[t.slug],"onUpdate:modelValue":b=>s.formData.features[t.slug]=b,"true-value":1,"false-value":0},{default:n(()=>[a("div",oe,d(t.label),1),a("div",null,d(t.description),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]))]))),128))]),_:1},8,["title","description"])])]),_:1},8,["onSubmit","onCancel","onReset","resetable","disable","submited"])):(r(),f(S,{key:1}))]),_:1})}var De=q(j,[["render",se]]);export{De as default};
