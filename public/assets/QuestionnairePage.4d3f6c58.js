import{_ as U,m as h,T as R,bd as T,U as F,d as n,o as d,e as g,w as o,h as s,aj as I,s as D,ak as L,j as u,t as m,g as a,f as b,R as z,N as k,Q as B,W as N,i as _,Y as Q,ah as j,aX as M,ar as E,n as Y}from"./index.ec7eb99e.js";import{Q as G}from"./QScrollArea.7b825e0c.js";import{Q as H}from"./QDrawer.cd602d9b.js";import{Q as W}from"./QPage.b13c45b6.js";import{S as X}from"./SkeletonSinglePage.dba71dd3.js";import{D as J,P as K,F as Z,a as S}from"./mixins.af528ab3.js";import{S as $}from"./SettingsPageHeader.b1719c9d.js";import"./QResizeObserver.0de2c530.js";import"./QScrollObserver.fe7ed8a7.js";import"./TouchPan.7d0ea6c3.js";import"./touch.9135741d.js";import"./selection.571043d0.js";import"./QSkeleton.73bc54f6.js";import"./StateSelect.d3ce42fc.js";import"./index.becf6c0c.js";import"./CitySelect.367b922a.js";import"./BaseSectionSkeleton.971da8dd.js";import"./page.e7247b54.js";import"./QExpansionItem.38c12bfd.js";import"./QSlideTransition.d1b840b3.js";import"./QMenu.76199ca9.js";const x={default:!1,active:!1,has_pdf:!1,has_signature:!1,send_email:!1,fields:[]},ee={components:{SkeletonSinglePage:X,SettingsPageHeader:$,Draggable:J},mixins:[K,Z],data(){return{defaultData:h.exports.cloneDeep(x),formData:h.exports.cloneDeep(x),thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"grey",width:"5px",opacity:.35},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"grey",width:"9px",opacity:.2},field:{config:{}}}},methods:{...R(S,["show","store","update"]),onClick(e){console.func("pages/admins/settings/questionnaires/QuestionnairePage:methods.onClick()",arguments),this.field=e,this.$refs.settings.show()},onAdd(e){console.func("pages/admins/settings/questionnaires/QuestionnairePage:methods.onAdd()",arguments),this.formData.fields.push(Object.assign(h.exports.cloneDeep(e),{key:T()}))},onReset(e){console.func("pages/admins/settings/questionnaires/QuestionnairePage:methods.onReset()",arguments),this.loaded=!1,this.$nextTick(()=>{this.formData=h.exports.cloneDeep(this.defaultData),this.$refs.settings.hide(),this.loaded=!0})},onRemove(e){this.formData.fields=this.formData.fields.filter(i=>i.key!=e),this.$refs.settings.hide()},hasPlaceholder(e){return["input","textarea"].includes(e)},hasOption(e){return["checkbox","radio","select"].includes(e)},hasPlaceholderOrOption(e){return this.hasPlaceholder(e)||this.hasOption(e)}},mounted(){this.id!=="add"?this.show(this.id).then(e=>{this.formData=e,this.defaultData=h.exports.cloneDeep(e),this.loaded=!0}).catch(e=>{this.$emit("error",e)}):this.loaded=!0},computed:{...F(S,["fields"])}},se={class:"q-pa-md q-gutter-y-md"},le={class:""},te={class:""},oe={class:""},ie={key:0,class:""},ae={class:"q-mt-sm full-width"},ne={key:1,class:""},de={class:""},re={key:2,class:""},ue={key:3,class:""},me={class:"q-pa-md"},fe={class:"q-gutter-md"},pe={class:"col-xs-12 col-sm-12"},ce={class:"col-xs-12 col-sm-12"},he={class:"fields-container"},ge=["onClick"],be={class:"form-field-container cursor-pointer q-pa-md bg-grey-3"},_e={class:"footer full-width from-fields"};function ve(e,i,ye,ke,l,r){const V=n("form-fields"),C=n("settings-page-header"),f=n("base-label"),c=n("base-input"),q=n("base-select"),v=n("base-btn"),w=n("draggable"),P=n("base-section"),A=n("base-form"),O=n("skeleton-single-page");return d(),g(W,{padding:""},{default:o(()=>[s(C,{class:"q-pb-md",title:e.$t("questionnaires"),"back-route":"Questionnaires",hint:e.$t("effortlesslyManageYourQuestionnairesInTheSettingsSectionForATailoredAndSeamlessExperience")},{action:o(()=>[s(V,{onAdd:r.onAdd},null,8,["onAdd"])]),_:1},8,["title","hint"]),s(H,{side:"right",ref:"settings",bordered:"",width:300,class:"bg-white from-field-drawer"},{default:o(()=>[s(I,{class:"bg-primary text-white"},{default:o(()=>[s(D,{size:"sm",flat:"",round:"",dense:"",icon:"fas fa-tools"}),s(L,{class:"text-subtitle2 text-capitalize"},{default:o(()=>[u(m(l.field.label),1)]),_:1}),s(D,{onClick:i[0]||(i[0]=t=>e.$refs.settings.hide()),size:"sm",flat:"",round:"",dense:"",icon:"fal fa-times",class:"q-mr-xs"})]),_:1}),s(G,{"thumb-style":l.thumbStyle,"bar-style":l.barStyle},{default:o(()=>[a("div",se,[a("div",le,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("fieldLabel")),1)]),_:1}),s(c,{modelValue:l.field.label,"onUpdate:modelValue":i[1]||(i[1]=t=>l.field.label=t)},null,8,["modelValue"])]),a("div",te,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("fieldSize")),1)]),_:1}),s(q,{square:"",dense:"",outlined:"","use-input":"","emit-value":"","map-options":"",modelValue:l.field.config.width,"onUpdate:modelValue":i[2]||(i[2]=t=>l.field.config.width=t),options:[{label:"Small",value:3},{label:"Medium",value:6},{label:"Large",value:9},{label:"Full width",value:12}]},null,8,["modelValue"])]),a("div",oe,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("description")),1)]),_:1}),s(c,{modelValue:l.field.description,"onUpdate:modelValue":i[3]||(i[3]=t=>l.field.description=t),type:"textarea",rows:"4"},null,8,["modelValue"])]),r.hasOption(l.field.type)?(d(),b("div",ie,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("options")),1)]),_:1}),s(w,{"ghost-class":"ghost-item",list:l.field.options,group:{name:"options"},"item-key":"value",class:"q-gutter-y-sm"},{item:o(({element:t,index:y})=>[s(z,{dense:"",class:"q-px-none"},{default:o(()=>[s(k,{style:{"min-width":"auto"},avatar:""},{default:o(()=>[s(B,{name:"menu"})]),_:1}),s(k,null,{default:o(()=>[s(c,{modelValue:t.label,"onUpdate:modelValue":[p=>t.label=p,p=>t.value=p]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l.field.options.length>1?(d(),g(k,{key:0,side:""},{default:o(()=>[s(N,null,{default:o(()=>[s(v,{dense:"",flat:"",color:"grey",icon:"fas fa-trash-can",onClick:p=>l.field.options.splice(y,1)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):_("",!0)]),_:2},1024)]),footer:o(()=>[a("div",ae,[s(v,{dense:"",outline:"",color:"primary",class:"full-width",icon:"add",label:"Add Option",onClick:i[4]||(i[4]=t=>l.field.options.push({label:"Option "+l.field.options.length,value:"Option "+l.field.options.length}))})])]),_:1},8,["list"])])):_("",!0),r.hasPlaceholder(l.field.type)?(d(),b("div",ne,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("placeholderText")),1)]),_:1}),s(c,{modelValue:l.field.config.placeholder,"onUpdate:modelValue":i[5]||(i[5]=t=>l.field.config.placeholder=t)},null,8,["modelValue"])])):_("",!0),a("div",de,[s(f,{class:"text-uppercase"},{default:o(()=>[u(m(e.$t("cssClasses")),1)]),_:1}),s(c,{placeholder:"i.e q-pa-sm",modelValue:l.field.config.classes,"onUpdate:modelValue":i[6]||(i[6]=t=>l.field.config.classes=t)},null,8,["modelValue"])]),r.hasPlaceholderOrOption(l.field.type)?(d(),b("div",re,[s(Q,{dense:"",modelValue:l.field.config.hideLabel,"onUpdate:modelValue":i[7]||(i[7]=t=>l.field.config.hideLabel=t),label:e.$t("hideLabel"),color:"green"},null,8,["modelValue","label"])])):_("",!0),r.hasPlaceholderOrOption(l.field.type)?(d(),b("div",ue,[s(Q,{dense:"",modelValue:l.field.config.required,"onUpdate:modelValue":i[8]||(i[8]=t=>l.field.config.required=t),label:e.$t("required"),color:"green"},null,8,["modelValue","label"])])):_("",!0)])]),_:1},8,["thumb-style","bar-style"]),a("div",me,[s(v,{outline:"",color:"negative",class:"full-width",icon:"fas fa-trash-can",label:e.$t("removeField"),onClick:i[9]||(i[9]=t=>r.onRemove(l.field.key))},null,8,["label"])])]),_:1},512),e.loaded?(d(),g(A,{key:0,onSubmit:e.onSubmit,onCancel:e.onCancel,onReset:r.onReset,resetable:e.resetable},{default:o(()=>[a("div",fe,[s(P,{bordered:"",title:"General information"},{default:o(()=>[a("div",pe,[s(f,null,{default:o(()=>[u(m(e.$t("name")),1)]),_:1}),s(j,{dense:"",outlined:"",modelValue:l.formData.name,"onUpdate:modelValue":i[10]||(i[10]=t=>l.formData.name=t),type:"text"},null,8,["modelValue"])]),a("div",ce,[s(f,null,{default:o(()=>[u(m(e.$t("fields")),1)]),_:1}),a("div",he,[s(w,{"ghost-class":"ghost-item",class:"row q-col-gutter-md",list:l.formData.fields,group:{name:"fields",put:["fields"],pull:!0},"item-key":"id"},{item:o(({element:t,index:y})=>{var p;return[(d(),b("div",{class:Y(`col-sm-${((p=t.config)==null?void 0:p.width)||6} col-xs-12`),key:y,onClick:Ve=>r.onClick(t)},[a("div",be,[(d(),g(M(`form-${t.type}`),E({readonly:"","model-value":t.config.value},t),null,16,["model-value"]))])],10,ge))]}),footer:o(()=>[a("div",_e,[s(V,{onAdd:r.onAdd},null,8,["onAdd"])])]),_:1},8,["list"])])])]),_:1})])]),_:1},8,["onSubmit","onCancel","onReset","resetable"])):(d(),g(O,{key:1}))]),_:1})}var Ee=U(ee,[["render",ve]]);export{Ee as default};
