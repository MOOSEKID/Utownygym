import{_ as I,d as v,o as p,e as b,w as m,g as f,ad as T,ag as x,h as l,aj as B,s as D,f as w,aq as N,t as _,am as $,V as E,i as S}from"./index.ec7eb99e.js";import{Q as O}from"./QPage.b13c45b6.js";import{P as A}from"./payment.7eb652a0.js";import{_ as Q}from"./logo.d17bc7ed.js";import"./QBadge.f11b4156.js";import"./QSkeleton.73bc54f6.js";/*!
 * paypal-js v8.1.2 (2024-09-16T17:52:36.940Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=j(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach(function(i){a.dataset[i]!==n.dataset[i]&&(o=!1)}),o?r:null}function U(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,o=j(t,r);o.onerror=a,o.onload=n,document.head.insertBefore(o,document.head.firstElementChild)}function V(e){var t=e.environment,r=t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js";delete e.environment,e.sdkBaseUrl&&(r=e.sdkBaseUrl,delete e.sdkBaseUrl);var n=e,a=Object.keys(n).filter(function(s){return typeof n[s]!="undefined"&&n[s]!==null&&n[s]!==""}).reduce(function(s,c){var h=n[c].toString();return c=W(c),c.substring(0,4)==="data"||c==="crossorigin"?s.attributes[c]=h:s.queryParams[c]=h,s},{queryParams:{},attributes:{}}),o=a.queryParams,i=a.attributes;return o["merchant-id"]&&o["merchant-id"].indexOf(",")!==-1&&(i["data-merchant-id"]=o["merchant-id"],o["merchant-id"]="*"),{url:"".concat(r,"?").concat(z(o)),attributes:i}}function W(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function z(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function j(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function M(e,t){if(t===void 0&&(t=Promise),C(e,t),typeof document=="undefined")return t.resolve(null);var r=V(e),n=r.url,a=r.attributes,o=a["data-namespace"]||"paypal",i=k(o);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),L(n,a)&&i?t.resolve(i):Z({url:n,attributes:a},t).then(function(){var s=k(o);if(s)return s;throw new Error("The window.".concat(o," global variable is not available."))})}function Z(e,t){t===void 0&&(t=Promise),C(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n!="undefined"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,o){if(typeof document=="undefined")return a();U({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var i=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(i)}})})}function k(e){return window[e]}function C(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t!="undefined"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}let q;const H={mixins:[A],data(){return{orderID:null}},methods:{async load(){!this.CLIENT_ID||(q=await M({"client-id":this.CLIENT_ID}),this.token({provider:"paypal",query:this.$route.query}).then(e=>{Object.assign(this,e),q.Buttons({createOrder:()=>this.orderID,onApprove:this.onApprove}).render("#paypal-button-container"),this.loaded=!0}).catch(e=>{this.$core.error(e)}))},onApprove(e,t){this.process({provider:"paypal",query:{...this.$route.query,...e}})}},async mounted(){this.load()},computed:{CLIENT_ID(){var e;return(e=this.paymentProvider("paypal"))==null?void 0:e.CLIENT_ID}},watch:{CLIENT_ID(){this.load()}}},K={style:{width:"350px"}},F={class:"row q-col-gutter-md"},G={class:"col-xs-12 col-sm-12"},J=["src"],R={key:1,width:"100",src:Q},X={class:"details"},Y={class:"text-subtitle2"},P={key:1,class:"text-grey-6 text-weight-regular"};function ee(e,t,r,n,a,o){const i=v("base-btn"),s=v("order-items"),c=v("base-section"),h=v("payment-skeleton");return p(),b(O,{class:"flex flex-center",padding:""},{default:m(()=>[f("div",K,[T(f("div",F,[f("div",G,[l(c,{"no-row":""},{default:m(()=>[l(B,{class:"q-pa-none"},{default:m(()=>{var d,u,y,g;return[l(D,{flat:"",round:"",dense:"",icon:"far fa-arrow-left",size:"sm",class:"q-mr-sm",onClick:e.onBack},null,8,["onClick"]),(d=e.config)!=null&&d.logo?(p(),w("img",{key:0,width:"100",src:(u=e.config)==null?void 0:u.logo},null,8,J)):(p(),w("img",R)),l(N),f("div",X,[f("div",Y,_((y=e.order)==null?void 0:y.amount),1),e.$q.screen.xs?(p(),b(i,{key:0,onClick:t[0]||(t[0]=te=>e.$refs.details.toggle()),color:"grey",label:"Details",link:""})):(p(),w("div",P,_((g=e.order)==null?void 0:g.label),1))])]}),_:1}),l($,{square:"",ref:"details",position:"bottom"},{default:m(()=>[l(E,{class:"bg-white q-pa-md"},{default:m(()=>{var d,u;return[l(s,{"line-items":(d=e.order)==null?void 0:d.line_items,currency:(u=e.order)==null?void 0:u.currency},null,8,["line-items","currency"])]}),_:1})]),_:1},512),e.$q.screen.gt.xs?(p(),b(E,{key:0,class:"q-mt-md"},{default:m(()=>{var d,u;return[l(s,{"line-items":(d=e.order)==null?void 0:d.line_items,currency:(u=e.order)==null?void 0:u.currency},null,8,["line-items","currency"])]}),_:1})):S("",!0),t[1]||(t[1]=f("div",{class:"q-mt-md paypal-payment"},[f("div",{id:"paypal-button-container"})],-1))]),_:1})])],512),[[x,e.loaded]]),e.loaded?S("",!0):(p(),b(h,{key:0}))])]),_:1})}var ce=I(H,[["render",ee]]);export{ce as default};
