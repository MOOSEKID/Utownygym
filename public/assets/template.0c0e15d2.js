import{bt as c,c as i,A as s,cx as o}from"./index.ec7eb99e.js";const d=c("template",{state:()=>({rows:[],permissions:{new:"templates:new",edit:"templates:edit",delete:"templates:delete"}}),getters:{module:e=>({name:"Templates",label:e.$t("label.templates"),singular:e.$t("singular.template"),plural:e.$t("plural.templates")}),statusOptions:e=>[{label:e.$t("label.all"),value:null},{label:e.$t("label.active"),value:!0}],toolbar:e=>[{title:e.$t("label.status"),action:"request",component:"base-select",dense:!0,outlined:!0,key:"active",placeholder:e.$t("placeholder.select"),optionsDense:!0,style:"width: 150px",mapOptions:!0,emitValue:!0,options:e.statusOptions,prefix:e.$t("prefix.status"),deleted:"all"},{icon:"fad fa-plus-circle",label:e.$t("label.addTemplate"),permission:"templates:new",action:"route",params:{id:"add"},route:"Template",color:"primary",deleted:"all"}],filters:e=>[],columns:e=>[{name:"label",align:"left",label:e.$t("label.label"),field:"label",style:"width: 40px",sortable:!0},{name:"created_at",align:"left",label:e.$t("label.createdAt"),field:"created_at",format:i.formatDateAsHuman,style:"width: 40px",sortable:!0},{name:"is_active",align:"left",label:e.$t("label.active"),field:"is_active",format:a=>a?"Yes":"No",style:"width: 40px",action:a=>e.changeActive(a),sortable:!0},{name:"actions",align:"right",sortable:!1}],actions:e=>[{label:e.$t("label.edit"),permission:"templates:edit",action:"route",route:"Template",params:a=>({id:a.id}),query:a=>({action:"edit"}),icon:"fas fa-edit",deleted:!1},{label:e.$t("label.duplicate"),permission:"templates:edit",action:a=>e.duplicate(a),icon:"fas fa-copy",deleted:!1},{label:e.$t("label.delete"),permission:"templates:delete",action:"delete",icon:"fas fa-trash-alt",deleted:!1},{label:e.$t("label.restore"),permission:"templates:delete",action:"restore",icon:"fas fa-trash-undo",deleted:!0}]},actions:{get(e){return new Promise((a,l)=>{s.get("templates",e).then(t=>{this.setRows(t.data),a(t)}).catch(t=>{l(t)})})},store(e){return new Promise((a,l)=>{s.post("templates/store",e).then(t=>{a(t)}).catch(t=>{l(t)})})},show(e){return new Promise((a,l)=>{s.get(`templates/${e}`).then(t=>{a(t)}).catch(t=>{l(t)})})},update(e){return new Promise((a,l)=>{s.put(`templates/${e.id}`,e).then(t=>{a(t)}).catch(t=>{l(t)})})},delete(e){return new Promise((a,l)=>{s.delete(`templates/${e}/destroy`).then(t=>{a(t)}).catch(t=>{l(t)})})},deleteSelected(e){return new Promise((a,l)=>{s.delete("templates/destroy",{items:e}).then(t=>{a(t)}).catch(t=>{l(t)})})},restore(e){return new Promise((a,l)=>{s.post(`templates/${e}/restore`).then(t=>{a(t)}).catch(t=>{l(t)})})},restoreSelected(e){return new Promise((a,l)=>{s.post("templates/restore",{items:e}).then(t=>{a(t)}).catch(t=>{l(t)})})},changeActive(e){return new Promise((a,l)=>{s.post(`templates/${e.id}/change-active`).then(t=>{e.is_active=!e.is_active;const{message:r}=t;i.success(r),a(t)}).catch(t=>{i.error(t),l(t)})})},duplicate(e){return new Promise((a,l)=>{s.post(`templates/${e.id}/duplicate`).then(t=>{const{message:r,data:n}=t;i.success(r),o.push({name:"Template",params:{id:n.id},query:{action:"edit"}}),a(t)}).catch(t=>{i.error(t),l(t)})})}}});export{d as u};
