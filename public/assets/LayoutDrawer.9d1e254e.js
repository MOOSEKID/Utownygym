import{_ as h,d as g,o as i,e as u,w as f,f as c,F as p,p as v,ad as k,n as w,ba as y,U as S,u as x,h as d,aj as V,aq as L,i as _,X as q,V as Q,k as B,ar as E,q as R}from"./index.ec7eb99e.js";import{Q as A}from"./QDrawer.cd602d9b.js";import{Q as P}from"./QExpansionItem.38c12bfd.js";import{_ as j}from"./logo.d17bc7ed.js";const C={props:{title:{type:String,required:!0},route:{type:String,default:""},params:{type:Object,default:()=>({})},icon:{type:String,default:""},notification:[String,Number],subLinks:{type:[Object,Boolean],default:!1},exact:Boolean,dense:Boolean,rounded:Boolean,related:Array},methods:{is(t){const a=String(this.$route.fullPath),e=this.$app.guard==="admins"?"/admin":"/user";Array.isArray(t)||(t=[t]);for(const m of t){const n=e+String(m);if(n===a)return!0;const l=n.replace(/\(d\+\)/g,"\\d+");if(new RegExp("^"+l+"$","u").test(a))return!0;const o=l.replace(/\*/g,".*");if(new RegExp("^"+o+"$","u").test(a))return!0;if(n.includes("|")){const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp("^"+r+"$","u").test(a))return!0}if(n.endsWith("*")&&a.startsWith(n.slice(0,-1))||new RegExp("^"+n.replace(/\(d\+\)/g,"\\d+").replace(/\*/g,".*")+"(\\?.*)?$","u").test(a))return!0}return!1}},computed:{active:{get(){return this.is(this.related)},set(t){return t}}}};function D(t,a,e,m,n,l){const o=g("base-item");return e.subLinks?(i(),u(P,{key:0,modelValue:l.active,"onUpdate:modelValue":a[0]||(a[0]=r=>l.active=r),icon:e.icon,label:e.title,"expand-icon-class":"hidden",class:"sublinks","header-class":{"sublink-header":!0,"sublink-active":l.active,"rounded-borders":e.rounded},to:{name:e.route},dense:e.dense,duration:0},{default:f(()=>[(i(!0),c(p,null,v(e.subLinks,(r,s)=>k((i(),u(o,{key:s,clickable:"",tag:"a",to:{name:r.route,params:r.params},exact:r.exact||!1,class:w({active:l.is(r.related)}),"active-class":"active",dense:e.dense,icon:r.icon,label:r.title,notification:r.notification,"icon-space":""},null,8,["to","exact","class","dense","icon","label","notification"])),[[y]])),128))]),_:1},8,["modelValue","icon","label","header-class","to","dense"])):k((i(),u(o,{key:1,clickable:"",tag:"a",to:{name:e.route,params:e.params},"active-class":"active",dense:e.dense,icon:e.icon,label:e.title,notification:e.notification},null,8,["to","dense","icon","label","notification"])),[[y]])}var N=h(C,[["render",D]]);const O={components:{LinksList:N},props:{modelValue:{required:!1},sideMenus:{required:!0,type:Array},listStyle:[String,Object]},emits:["update:model-value"],data(){return{value:this.modelValue}},methods:{toggle(){this.$refs.drawer.toggle()}},computed:{...S(x,["user","config"])}},U=["src"],z={key:1,width:"110",src:j};function F(t,a,e,m,n,l){const o=g("base-current-user"),r=g("links-list");return i(),u(A,{ref:"drawer",modelValue:n.value,"onUpdate:modelValue":[a[0]||(a[0]=s=>n.value=s),a[1]||(a[1]=s=>t.$emit("update:model-value",s))],"show-if-above":"",breakpoint:1280,width:250,side:"left",bordered:"",class:"bg-white text-black"},{default:f(()=>[t.user&&t.$q.screen.lt.sm?(i(),c(p,{key:0},[d(V,{class:"flex-center q-pa-md"},{default:f(()=>{var s,b;return[(s=t.config)!=null&&s.logo?(i(),c("img",{key:0,width:"110",src:(b=t.config)==null?void 0:b.logo},null,8,U)):(i(),c("img",z)),d(L),t.user?(i(),u(o,{key:2,flat:"","avatar-only":""})):_("",!0)]}),_:1}),d(q)],64)):_("",!0),d(Q,{class:"bg-white q-pa-md",style:B(e.listStyle)},{default:f(()=>[(i(!0),c(p,null,v(e.sideMenus,s=>(i(),u(r,E({class:"link-item",key:s.title,ref_for:!0},s,{rounded:"",dense:""}),null,16))),128))]),_:1},8,["style"]),R(t.$slots,"default")]),_:3},8,["modelValue"])}var X=h(O,[["render",F]]);export{X as L};
